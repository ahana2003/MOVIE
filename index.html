<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MovieHub — Cinema</title>

  <!-- styles -->
  <link rel="stylesheet" href="style.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Firebase (optional) -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <script src="firebase-config.js"></script> <!-- fill this to enable Firebase -->
</head>
<body>
  <header class="topbar">
    <div class="brand" onclick="showSection('home')">
      <i class="fa-solid fa-film"></i> <span>MovieHub</span>
    </div>

    <nav class="nav">
      <a onclick="showSection('home')" class="nav-link">Home</a>
      <a onclick="showSection('trending')" class="nav-link">Trending</a>
      <a onclick="showSection('browse')" class="nav-link">Browse</a>
      <a onclick="showSection('watchlist')" class="nav-link">Watchlist <span id="watchCount" class="badge">0</span></a>
    </nav>

    <div class="right">
      <input id="searchInput" placeholder="Search movies or directors..." />
      <button id="themeToggle" title="Toggle theme"><i class="fa-solid fa-moon"></i></button>
      <button id="loginBtn" onclick="openLogin()" title="Login"><i class="fa-solid fa-user"></i></button>
    </div>
  </header>

  <main>
    <!-- HERO / Home -->
    <section id="home" class="section active">
      <div class="hero">
        <div class="hero-info">
          <h1 id="heroTitle">Featured Movie</h1>
          <p id="heroDescription"></p>
          <div class="hero-actions">
            <button id="heroTrailerBtn" class="btn"><i class="fa-solid fa-play"></i> Watch Trailer</button>
            <button id="heroInfoBtn" class="btn outline"><i class="fa-solid fa-info-circle"></i> More Info</button>
          </div>
        </div>
        <div class="hero-backdrop" id="heroBackdrop"></div>
      </div>

      <section class="section-row">
        <h2>Top Rated</h2>
        <div id="topRated" class="carousel"></div>
      </section>
    </section>

    <!-- Trending -->
    <section id="trending" class="section">
      <h2>Trending Now</h2>
      <div id="trendingList" class="carousel"></div>
    </section>

    <!-- Browse (Genres + All movies) -->
    <section id="browse" class="section">
      <div class="browse-head">
        <h2>Browse Movies</h2>
        <div id="genreFilters" class="filters"></div>
      </div>
      <div id="allMovies" class="grid"></div>
    </section>

    <!-- Watchlist -->
    <section id="watchlist" class="section">
      <h2>My Watchlist</h2>
      <div id="watchlistMovies" class="grid"></div>
    </section>
  </main>

  <!-- Modal for details -->
  <div id="movieModal" class="modal">
    <div class="modal-content">
      <button class="close" onclick="closeModal()">&times;</button>
      <div class="modal-left">
        <img id="modalPoster" src="" alt="poster">
      </div>
      <div class="modal-right">
        <h2 id="modalTitle"></h2>
        <p class="meta"><span id="modalYear"></span> • <span id="modalDuration"></span> • <span id="modalRating"></span>/10</p>
        <div id="modalGenres" class="tags"></div>
        <p id="modalDescription"></p>
        <p><strong>Director:</strong> <span id="modalDirector"></span></p>
        <p><strong>Cast:</strong> <span id="modalCast"></span></p>

        <div class="modal-actions">
          <button class="btn" id="modalTrailerBtn"><i class="fa-solid fa-play"></i> Watch Trailer</button>
          <button class="btn outline" id="watchlistBtn"><i class="fa-solid fa-plus"></i> Add to Watchlist</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Add Movie floating for admin -->
  <button id="openAddBtn" class="add-floating" onclick="toggleAddForm()"><i class="fa-solid fa-plus"></i></button>

  <div id="addForm" class="panel">
    <h3>Add Movie</h3>
    <input id="addTitle" placeholder="Title" />
    <input id="addYear" placeholder="Year" />
    <input id="addDuration" placeholder="Duration (e.g. 2h 28m)" />
    <input id="addRating" placeholder="Rating (0-10)" />
    <input id="addPoster" placeholder="Poster URL" />
    <input id="addBackdrop" placeholder="Backdrop URL" />
    <input id="addYoutube" placeholder="YouTube ID (trailer)" />
    <input id="addGenres" placeholder="Genres (comma separated)" />
    <input id="addDirector" placeholder="Director" />
    <input id="addCast" placeholder="Cast (comma separated)" />
    <textarea id="addDescription" placeholder="Description"></textarea>
    <div class="panel-actions">
      <button class="btn" onclick="addMovieFromForm()">Add</button>
      <button class="btn outline" onclick="toggleAddForm()">Close</button>
    </div>
  </div>

  <!-- Simple login modal -->
  <div id="loginModal" class="modal">
    <div class="modal-content small">
      <button class="close" onclick="closeLogin()">&times;</button>
      <h3>Login / Register</h3>
      <input id="emailField" placeholder="Email" />
      <input id="passwordField" type="password" placeholder="Password" />
      <div class="modal-actions">
        <button class="btn" onclick="emailSignUp()">Sign Up</button>
        <button class="btn outline" onclick="emailSignIn()">Sign In</button>
      </div>
      <p class="muted">Admin email (for admin dashboard): <strong>admin@example.com</strong></p>
    </div>
  </div>

  <!-- small toast -->
  <div id="toast" class="toast"></div>

  <!-- scripts -->
  <script src="script.js"></script>
</body>
</html>
